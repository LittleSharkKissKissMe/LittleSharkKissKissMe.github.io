<!DOCTYPE html>
<html lang="</html>zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta 
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta 
    http-equiv="X-UA-Compatible" 
    content="ie=edge">
  <meta 
    name="theme-color" 
    content="#fff" 
    id="theme-color">
  <meta 
    name="description" 
    content="LittleSharkKissKissMe">
  <link 
    rel="icon" 
    href="/">
  <title>计算机组成原理 第三章</title>
  <style type="text/css">
    .fullscreenvideo {
        position: absolute;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        z-index: -100;
        -webkit-transform: translateX(-50%) translateY(-50%);
        transform: translateX(-50%) translateY(-50%);
        -webkit-transition: 1s opacity;
        transition: 1s opacity;
    }
     
    .videocontainer{
        position: fixed;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -100; 
    }
     
    .videocontainer:before{
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        display: block;
        z-index: -1;
        top: 0;
        left: 0;
        background: rgba(0,0,0,0);
    }
  </style>
  
    
      <meta 
        property="og:title" 
        content="计算机组成原理 第三章">
    
    
      <meta 
        property="og:url" 
        content="https://littlesharkkisskissme.github.io/2024/04/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E7%AC%AC%E4%B8%89%E7%AB%A0/index.html">
    
    
      <meta 
        property="og:img" 
        content="/images/Gus.jpg">
    
    
    
      <meta 
        property="og:type" 
        content="article">
      <meta 
        property="og:article:published_time" 
        content="2024-04-22">
      <meta 
        property="og:article:modified_time" 
        content="2024-06-02">
      <meta 
        property="og:article:author" 
        content="风月无霰">
      
        
          <meta 
            property="og:article:tag" 
            content="计算机组成原理">
        
      
    
  
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  <link rel="preload" href="/css/main.css" as="style" >
  
  <link rel="modulepreload" href="//instant.page/5.1.0">
  
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">
  
  
  
    <link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">
  
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
    function loadCSS(href, data, attr) {
      var sheet = document.createElement('link');
      sheet.ref = 'stylesheet';
      sheet.href = href;
      sheet.dataset[data] = attr;
      document.head.appendChild(sheet);
    }
    function changeCSS(cssFile, data, attr) {
      var oldlink = document.querySelector(data);
      var newlink = document.createElement("link");
      newlink.setAttribute("rel", "stylesheet");
      newlink.setAttribute("href", cssFile);
      newlink.dataset.prism = attr;
      document.head.replaceChild(newlink, oldlink);
    }
  </script>
  
    
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
  </script>
  
    <script>
      var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
        document.getElementById('theme-color').dataset.mode = getCssMediaQuery();
      }
    };
    setDarkmode();
    </script>
  
  
  
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  
<meta name="generator" content="Hexo 6.3.0"></head>

  <body>
    <div class="wrapper">

      <div class="videocontainer">
        <video class="fullscreenvideo" playsinline="" autoplay="" muted="" loop="">
        <source src="../source/images/fate.mp4" type="video/mp4"><!-- 在这改路径即可直接食用 -->
        </video>
      </div>
   
       
      <nav class="navbar">
  <div class="navbar-logo">
    <a class="navbar-logo-main" href="/">
      
      <span class="navbar-logo-dsc">轻泊</span>
      </a>
  </div>
  <div class="navbar-menu">
    
      <a 
        href="/" 
        class="navbar-menu-item">
        
          首页
        
      </a>
    
      <a 
        href="/archives" 
        class="navbar-menu-item">
        
          归档
        
      </a>
    
      <a 
        href="/tags" 
        class="navbar-menu-item">
        
          标签
        
      </a>
    
      <a 
        href="/categories" 
        class="navbar-menu-item">
        
          分类
        
      </a>
    
      <a 
        href="/about" 
        class="navbar-menu-item">
        
          关于
        
      </a>
    
      <a 
        href="/links" 
        class="navbar-menu-item">
        
          友链
        
      </a>
    
    <button 
      class="navbar-menu-item darknavbar navbar-menu-btn" 
      aria-label="Toggle dark mode"
      id="dark">
      <i class="iconfont icon-weather"></i>
    </button>
    <button 
      class="navbar-menu-item searchnavbar navbar-menu-btn" 
      aria-label="Toggle search"
      id="search">
      <!-- <i 
        class="iconfont icon-search" 
        style="font-size: 1.2rem; font-weight: 400;">
      </i> -->
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img"
        class="iconify iconify--ion" width="28" height="28" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512">
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80Z"></path>
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M232 160a72 72 0 1 0 72 72a72 72 0 0 0-72-72Z"></path>
        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="28"
          d="M283.64 283.64L336 336"></path>
      </svg>
    </button>
  </div>
</nav> 
      
      <div 
        id="local-search" 
        style="display: none">
        <input
          class="navbar-menu-item"
          id="search-input"
          placeholder="请输入搜索内容..." />
        <div id="search-content"></div>
      </div>
      
      <div class="section-wrap">
        <div class="container">
          <div class="columns">
            <aside class="left-column">
              
              <div class="card card-author">
                
  <img 
    src="/images/Gus.jpg" 
    class="author-img"
    width="88"
    height="88"
    alt="author avatar">

<p class="author-name">风月无霰</p>
<p class="author-description"></p>
<div class="author-message">
  <a 
    class="author-posts-count" 
    href="/archives">
    <span>38</span>
    <span>文章</span>
  </a>
  <a 
    class="author-categories-count" 
    href="/categories">
    <span>0</span>
    <span>分类</span>
  </a>
  <a 
    class="author-tags-count" 
    href="/tags">
    <span>10</span>
    <span>标签</span>
  </a>
</div>

              </div>
               <div class="sticky-tablet">
  
  
    <article class="display-when-two-columns spacer">
      <div class="card card-content toc-card">
        <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>

      </div>
    </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header">
    <i 
      class="iconfont icon-fenlei" 
      style="padding-right: 2px;">
    </i>分类
  </div>
  <div class="categories-list">
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header">
    <i 
      class="iconfont icon-biaoqian" 
      style="padding-right: 2px;">
    </i>热门标签
  </div>
  <div class="tags-list">
    
      <a 
        href="/tags/%E6%9D%82%E8%B0%88/" 
        title="杂谈">
        <div class="tags-list-item">杂谈</div>
      </a>
    
      <a 
        href="/tags/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/" 
        title="文本编辑">
        <div class="tags-list-item">文本编辑</div>
      </a>
    
      <a 
        href="/tags/%E7%AE%97%E6%B3%95/" 
        title="算法">
        <div class="tags-list-item">算法</div>
      </a>
    
      <a 
        href="/tags/%E4%B9%A0%E9%A2%98/" 
        title="习题">
        <div class="tags-list-item">习题</div>
      </a>
    
      <a 
        href="/tags/%E6%95%B0%E5%AD%97%E7%94%B5%E8%B7%AF%E4%B8%8E%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91B/" 
        title="数字电路与数字逻辑B">
        <div class="tags-list-item">数字电路与数字逻辑B</div>
      </a>
    
      <a 
        href="/tags/%E8%AF%BE%E7%A8%8B/" 
        title="课程">
        <div class="tags-list-item">课程</div>
      </a>
    
      <a 
        href="/tags/%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/" 
        title="算法分析与设计">
        <div class="tags-list-item">算法分析与设计</div>
      </a>
    
      <a 
        href="/tags/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/" 
        title="算法设计与分析">
        <div class="tags-list-item">算法设计与分析</div>
      </a>
    
      <a 
        href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" 
        title="计算机组成原理">
        <div class="tags-list-item">计算机组成原理</div>
      </a>
    
      <a 
        href="/tags/%E6%9C%8D%E5%8A%A1%E5%A4%96%E5%8C%85/" 
        title="服务外包">
        <div class="tags-list-item">服务外包</div>
      </a>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
            <main class="main-column">
              
<article class="card card-content">
  <header>
    <h1 class="post-title">
      计算机组成原理 第三章
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2024-04-22T05:13:57.000Z">
      <i 
        class="iconfont icon-calendar" 
        style="margin-right: 2px;">
      </i>
      <span>2024-04-22</span>
    </time>
    
    
      <span class="dot"></span>
      <span>5.5k 字</span>
    
  </div>
  
    <div 
      class="post-meta post-show-meta" 
      style="margin-top: -10px;">
      <div style="display: flex; align-items: center;">
        <i 
          class="iconfont icon-biaoqian" 
          style="margin-right: 2px; font-size: 1.15rem;">
        </i>
        
          
          <a 
            href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" 
            class="post-meta-link">
            计算机组成原理
          </a>
        
      </div>
    </div>
  
  </header>
  <div 
    id="section" 
    class="post-content">
    <p>由于明天期中考，范围是第三章及以前，所以重新把没整完的第三章复习一遍</p>
<hr>
<p>第三章 内部存储器</p>
<p>3.1 存储器概述</p>
<p>3.1.1 存储器分类</p>
<p>存储可以按许多标准分类。其中需要了解的标准：</p>
<p>1.按存取时间和存取位置关系，依次可以分为随机存取存储器（RAM），顺序存取存储器（SAM），半顺序存取存储器（直接存取存储器DAM）；</p>
<pre><code>分类标准：存储器的任何一个存储单元的内容是否都可以随机存取，而且存取时间与存储单元的物理位置是否有关。
</code></pre>
<p>2.按读写功能分类，可以分为RAM：双极型&#x2F;MOS型（SRAM&#x2F;DRAM），ROM：MROM&#x2F;PROM&#x2F;EPROM&#x2F;EEPROM&#x2F;Flash Memory。</p>
<pre><code>分类标准：存储器是可写还是只读，以及写入次数等。RAM与ROM最大的区别就是读写功能。
</code></pre>
<p>此外还有按信息的可保存性分类，与CPU的耦合程度等。</p>
<p>3.1.2 存储器分级结构</p>
<p>二级储存系统（早期）：</p>
<pre><code>把存储器简单地分为内存和外存。其中内存为内寄存器（也称主存），CPU可直接访问；外存为辅存，CPU不能直接处理。
</code></pre>
<p>三级存储系统（半导体技术）：</p>
<pre><code>在主存与CPU之间，增加一种新的存储器：高速缓冲存储器（Cache）。Cache是一种速度更高、容量更小的半导体。Cache和主存都能直接与CPU交换数据。

三级储存系统速度接近Cache，但容量和价格接近外存，提高了整个存储系统的性价比。
</code></pre>
<p>多级存储系统：</p>
<pre><code>有多级Cache分层。或者如光盘、磁带等。
</code></pre>
<p>分层存储器系统之间的连接关系：</p>
<pre><code>程序局部性原理（构成多级存储系统的依据）：

    a.时间局部性：最近被访问的信息很可能还要被访问

    b.空间局部性：最近被访问的信息邻近地址的信息也可能被访问
</code></pre>
<p>主存内容是辅存内容的拷贝；Cache内容是主存内容的拷贝。这句话个人理解为主存内容是辅存内容的一部分；Cache内容是主存内容的一部分。</p>
<p>3.1.3 存储器技术指标</p>
<p>一、内存的编址单元</p>
<!-- 越写越热，想到明天还有一堆破事就静不下来，这下不得不汗流浃背了。感觉与其今天熬夜赶进度明天早八爽爽昏掉折磨自己，还不如睡个好觉早点起来补。至少把小测过了先，作业明天晚上补完。 -->

<pre><code>1.字节存储单元：存放一个字节的单元，相应的地址称为字节地址

2.字存储单元：存放一个机器字的存储单元，相应的单元地址叫字地址
</code></pre>
<p>对于两台机器而言，编址单元（以上两单元）相同，主存容量越大，地址码越长；主存容量相同，编址单位越小，地址码越长</p>
<p>如何理解？当主存容量越大时，需要更多的地址码位数来表示不同的编址单元，这意味着地址码越长；编址单位越小，即每个编址单元存储的数据越少，那么编址单元的数量也会相应增加，而每个编址单元都需要一个地址码来唯一标识，所以当编址单位变小时，需要更多的地址码位数来表示不同的编址单元，这也意味着地址码越长。</p>
<p>二、主要性能指标</p>
<p>储存容量、存取时间、存储周期、存储器带宽等。</p>
<p>3.2 SRAM存储器</p>
<p><strong>主存是半导体存储器</strong></p>
<p>根据信息存储的机理不同，主存可以分为两类：</p>
<pre><code>1.静态读写储存器（SRAM）：存取速度快

2.动态读写存储器（DRAM）：存储容量大
</code></pre>
<p>3.2.1 SRAM存储器</p>
<pre><code>定义：是一种基本的静态存储元阵列

其中存储元是指锁存器（触发器），掉电丢失。SRAM存储器由存储元阵列构成。也就是说，存储元是SRAM的基本单位，而SRAM中的存储元是触发器。
</code></pre>
<p>触发器：由4个MOS管组成，2个MOS管开关负责连接x和y向选择线，2个MOS管负责状态切换。</p>
<p>三组信号线：</p>
<pre><code>1.地址线：指定要读取或写入的存储单元的位置

2.数据线：用于传输读取或写入的数据，其宽度由存储器的字长确定。可以分为行线和列线

3.控制线：保证读写操作不同时发生
</code></pre>
<p>因此三组信号线工作的流程为寻址、操作数据（读写不会同时发生）。</p>
<p><strong>（个人觉得这块内容要联系数电理解）</strong></p>
<p>（学校安排的是什么b课程顺序，第一次学的时候数电没学到这里看不懂一点）</p>
<p>3.2.2 基本的SRAM逻辑结构</p>
<p>1.存储体：存储数据的单元。</p>
<p>2.地址译码器：就是数电中的地址译码器，用来编写地址码的。</p>
<p>3.读与写的互锁逻辑：应该只要知道读写互锁就行。（也就是不能同时读和写，只能进行一样）。</p>
<pre><code>CS：片选信号。表示选择了哪根数据线。

OE：读出使能信号。

WE：控制是读还是写（高读低写）
</code></pre>
<p>3.2.3 SRAM存储器的读写周期</p>
<p>读周期（WE高）：</p>
<pre><code>图片

读入有效地址后：

片选CS和控制WE先高后低，最后再高。   

有效数据集中在最后。
</code></pre>
<p>写周期：</p>
<pre><code>图片

读入有效地址后：

片选CS先高后低，控制WE先高后低后高，且包含在片选内。

有效数据集中在最后。
</code></pre>
<p>读周期总长等于写周期。</p>
<p>3.3 DRAM存储器</p>
<p>3.3.1 DRAM存储器</p>
<p>定义：和SRAM存储器一样，DRAM也是存储元列阵。不同之处在于它是动态的，且存储元是记忆电路。</p>
<pre><code>记忆电路是由一个MOS管和电容器组成的。

区别：静态指的是SRAM使用的是静态存储单元，每个存储单元由一个触发器构成，可以保持数据的稳定状态，即只要电源供应不中断，数据就会持续保存，不需要刷新。因此，SRAM访问速度快，但相对占用更多的面积并且功耗较高。

动态指的是DRAM使用的是动态存储单元，每个存储单元是由一个存储电容和一个访问晶体管组成。电容作为存储单元，需要定期刷新以保持数据的稳定性，所以被称为动态，因为数据不断被刷新。DRAM具有较高的存储密度和较低的功耗，但相对于SRAM而言，访问速度较慢。
</code></pre>
<p>逻辑结构区别：</p>
<pre><code>增加了刷新计数器和相应的控制电路。

图片
</code></pre>
<p>读写周期和刷新周期：</p>
<pre><code>？？？

读写周期相等。
</code></pre>
<p>半导体存储器的对比：</p>
<pre><code>图片

DRAM常用于内存，SRAM常用于Cache。
</code></pre>
<p>3.3.2 存储器容量的扩充</p>
<p>在进行位字扩展之前，先了解一下基本知识。</p>
<p>参考3.2 SRAM存储器，基本的SRAM逻辑结构图</p>
<p>首先，64K × 8 （也称64KB）的芯片，64K为字数，8为位数。</p>
<p>位数 &#x3D; 数据线端口数。</p>
<p>数据和地址基本没关系。</p>
<p>地址数取决于字的大小，如64K &#x3D; 2^6 * 2^10 &#x3D; 2^16，所以需要16位地址寻址。</p>
<p>地址分配时，只读芯片在地址低端，可读写芯片在地址高端；大容量芯片在地址低端，小容量芯片在地址高端。（小写高，大读低）</p>
<p>由于有片选逻辑的存在，所以在几片芯片扩展成一片芯片时，地址位是可以复用的。</p>
<p>片选逻辑：<strong>伟大的数电将降临它的神迹。</strong>听着玄乎，但是其实片选逻辑就是译码器。这个译码器的输入为没用到的地址位，输出的线路个数是芯片数，满足古老公式<code>2^n &gt;= m</code>。比如6个芯片，至少要有3个没用到的地址位输入才能实现。因为 2^3 &#x3D; 8 &gt; 6。再少一位就只有4个编码，覆盖不了6个芯片了。</p>
<p>特别注意，整合在一起的、位数符合要求的芯片才能算1块芯片，比如数据线4位，用两块2位芯片位扩展得到4位芯片，这在片选逻辑里只能算1块芯片。</p>
<p>由特别注意易知，<strong>只有字扩展要译码器，位扩展不需要</strong>（毕竟位扩展后整体才算1块芯片）。</p>
<p>1.位扩展</p>
<pre><code>用给定的几块位数较短的芯片，拼一块位数较大的芯片

什么是芯片的位数？芯片的位数描述了其数据总线或寄存器的宽度，其实就是芯片能够一次处理的二进制位数。

说得再拟人一点，就是芯片处理的基本单位。

例2：

    利用1K×4位的SRAM芯片，设计一个存储容量为1K×8位的SRAM存储器

    解：所需芯片数量d = (1K×8)/(1K×4)=2片
</code></pre>
<p>2.字扩展 </p>
<pre><code>用给定的几块字数较短的芯片，拼一块字数较大的芯片

字数又是什么？字数描述了处理器能够一次操作的字的个数。跟位数还是有区别的。

假设有一个16位的处理器，它的字长是16位，即一次能够处理16位的数据。在这个处理器中，一个字可以由两个16位的数据组成，因此字数为2。换句话说，这个处理器的字数是2，但每个字包含16位，因此整个处理器有32位（16位 x 2个字），位数为32。

我的理解是字数是作业本，位数是构成作业本的一页纸。你可以拿一捆作业本批量处理，但是具体到处理某一个本子时，肯定是一张一张翻着看的。
</code></pre>
<p>3.位字扩展</p>
<pre><code>简单理解，字位的扩展实际上就是位扩展+字扩展。

把两个扩展的倍数相乘，就是总芯片数。

例：半导体存储器总容量4KB。其中固化区2KB，选用EPROM芯片2716（2K x 8位/片）；工作区2KB，选用SRAM芯片2114 （1K x 4位/片）。CPU地址总线A15～A0（低），双向数据总线D7～D0

1、计算芯片数

    ROM区： 1片2K x 8     1片2716  

    RAM区： 2片1K x 4     1K x 8   位扩展

            2组1K x 8     2K x 8   字扩展     4片2114

            总的芯片数：5片 

    但我没搞懂为什么例题里面最后一定要用8位而非4位的，题干好像也没要求吧。

    好像是因为双向数据总线是8位的。CPU地址总线又与什么有关？

    牛魔，没看懂一点

    （没看懂？是没学好数电！）

2、地址分配和片选逻辑

    存储空间分配：只读芯片在地址低端，可读写芯片在地址高端；大容量芯片在地址低端，小容量芯片在地址高端

    芯片地址是地址总数的子集。

画图参考作业本上的画图。注意双向数据线要有双向箭头。

我数伟大，无需多言

再有例题：

    某半导体存储器容量15KB，其中固化区8KB，可选EPROM芯片为4K×8；可随机读写区7KB，可选SRAM芯片有：4K×4、 2K×4、 1K×4的RAM。地址总线A15~A0，双向数据总线D7~D0，R/!W控制读写，!MREQ为低电平时允许存储器工作信号
</code></pre>
<p>3.3.3存储器模板条</p>
<p>也称内存条。</p>
<p>图片</p>
<p>3.3.4 高级的DRAM结构</p>
<p>（这玩意不至于要考吧）</p>
<p>图片</p>
<p>3.3.5 DRAM读&#x2F;写的正确性校验</p>
<p>图片</p>
<p>3.4 只读存储器和闪速存储器（ROM和Flash）</p>
<p>3.4.1 只读存储器ROM</p>
<p>ROM被称为只读存储器。不能写入数据。应用广泛。主要应用在用于储存固件、引导加载程序、监控程序、不变或很少改变的数据<br>。</p>
<p>分类：</p>
<pre><code>1.掩模ROM

    存储内容完全固定，由厂家提供产品。

    逻辑符号和内部逻辑框图

    图片

2.可编程ROM

    用户可以写入数据（？那你叫牛魔的只读存储器），有些可以多次写入。
</code></pre>
<p>3.4.2 闪速存储器Flash</p>
<p>高密度非易失性的读&#x2F;写存储器。高密度意味着它具有巨大比特数目的存储容量，非易失性意味着存放的数据在没有电源的情况下可以长期保存。工作速度快、可擦除次数少（决定寿命）</p>
<p>它既有RAM的优点，又有ROM的优点，称得上是存储技术划时代的进展。</p>
<p>三个基本操作：</p>
<pre><code>1.编程操作

    实际为写操作。所有存储元的原始状态均为“1”状态，编程操作使存储元改写成“0”状态。

2.读操作

3.擦除操作

    擦除后存储元恢复原始状态“1”。

    电擦除（EPROM使用外部紫外光照射方式擦除）。
</code></pre>
<p>分类：</p>
<pre><code>1.NOR线性闪存

    图片

2.NAND非线性闪存

    图片
</code></pre>
<p>各种存储器的性能比较</p>
<pre><code>图片
</code></pre>
<p>3.5 并行存储器</p>
<p>CPU和主存储器之间在速度上是不匹配的</p>
<p>为此，用多种技术提高CPU和主存之间的数据传输率</p>
<p>3.5.1 双端口存储器</p>
<p>逻辑结构：</p>
<pre><code>1.从以CPU为中心变成以内存为中心

2.双端口存储器（空间并行技术）

    同一个存储器具有两组相互独立的读写控制电路而得名，是一种高速工作的存储器。
</code></pre>
<p>无冲突读写控制：</p>
<pre><code>条件：两个端口的地址不相同时，一定不会发生冲突。
</code></pre>
<p>有冲突读写控制：</p>
<pre><code>条件：两端口同时存取存储器同一存储单元（至少一个端口是写操作）

解决：设置!BUSY标志。有该标志的端口暂时关闭。（相当于设置优先级）
</code></pre>
<p>3.5.2 多模块交叉存储器</p>
<p>（呃呃呃，首先我想问的是什么是多模块交叉存储器？？？）</p>
<p>存储器的模块化组织</p>
<pre><code>一个由若干模块组成的主存储器是线性编程的：

    这句话的意思是，一个主存储器由多个模块组成，而这些模块按照一定的顺序或线性顺序组成整个存储器系统。线性编程指的是按照特定的顺序或逻辑关系来组织程序或系统。

地址在各模块中安排有两种方式：顺序方式和交叉方式：

    图片

    顺序方式：
    
        高位选模块，低位选块内地址
        （这又是何意啊？？？）

        特点：某模块进行存取时，其他模块不工作

        优点：互不影响，一个模块坏了其他模块照常工作

        缺点：各模块串行工作，存储器带宽受到限制（速度慢）

        例题：？？？
        （何意啊？？）

    交叉方式：

        高位选块内地址，低位选模块

        特点：同一模块内地址不连续，可实现多模块流水式并行存取

        优点：并行存取，提升速度

        例题：？？？
        （何意啊？？）
</code></pre>
<p>存储器基本结构</p>
<pre><code>四模块交叉存储器结构框图：

    主存被分为4个相互独立、容量相同的模块M0、M1、M2、M3

    每个模块有自己的读写控制电路、地址寄存器AR和数据寄存器DR

    各模块以相同方式与CPU传送信息（读写模式、速度、粒度相同）
    （粒度又是何意啊？？？）

    理想情况下，连续地在主存中存取程序段或数据块，将大大提高主存访问速度

    CPU同时访问四个模块，CPU可以分时复用地址线，传送连续地址。存储器控制部件可以分时复用数据线，传送数据给CPU。
    （呃？？？）

假设

    1.模块字长 = 数据总线宽度

    2.模块存取一个字的存取周期为T

    3.总线传送周期t

    4.存储器交叉模块数m

为了实现流水线存取方式，应满足：

    T &lt;= mt

    交叉存取度（交叉存取最低模块数）：

        T/t &lt;= m, 所以有min(m) = T/t

    连续读取n个字所需的时间：

        交叉方式：t交叉 = T + (n-1)t

        顺序方式：t顺序 = nT

        （上述两式怎么得出来的？？？）

        t交叉 &lt; t顺序，存储器带宽大大提高

例题（？？？）：
（？？？）

二模块交叉存储器举例：

（？？？？？？？？）
</code></pre>
<!-- 

牛魔，肚子痛死了 

沃日，真的要痛死了，就不该去牛魔嘉兴

-->



<p>3.6 Cache存储器</p>
<p>3.6.1 Cache基本原理</p>
<p>Cache功能</p>
<pre><code>问题：主存存取速度远低于CPU的工作速度

解决：CPU和主存间设置小容量的高速缓存存储器，释放主存信息的副本

目的：加快运行速度

设计依据：CPU这次访问过的数据，下次有可能继续访问该数据或附近的数据（局部性原理）

    程序和数据的时间、空间局限性

结构：由高速SRAM组成，速度快，容量小
</code></pre>
<p>Cache基本原理</p>
<pre><code>CPU与cache/主存之间

    以字/字节为传送单位

主存与cache之间

    以块为传送单位

    其中，1块 = 若干字（W），定长

控制逻辑（除SRAM外）

    主存/cache控制器（CPU外）

    CPU提供控制逻辑（CPU内）

    图片

（虽然但是，控制逻辑这一块都没看懂）

CPU读主存

    1.把字/字节地址同时送给cache和贮存，cache控制逻辑依据此地址判断该字/字节是否在cache中

    2-1.Cache命中（也就是该字节确实在cache中）：立即把此字节传送给CPU

    2-2.Cache缺失（未命中）：把该字从主存读出送到CPU中，**同时把含该字的整个数据块从主存读出送到cache中**。

Cache相关参数计算：

    图片

    1.命中率h

        计算公式：h = Nc / (Nc + Nm)

        其中……

        如何理解？就是cache存取次数占总存取次数的占比

    2.cache/主存系统的平均访问时间ta

        计算公式：ta = h * tc + (1 - h) * tm

        其中……

        何意啊？h是命中率，1-h是缺失率，命中的时候访问cache，未命中的时候访问主存，所以其实计算出来的是总时间？个人理解是，这个“平均”指的是每次访问所用时间的平均。

        不对不对，搞错了，由于前面乘的命中率是概率，所以这个就是CPU读取一次数据的平均时间。

    3.访问效率e

        若设r = tm / tc表示主存与cache的访问时间之比，则

        计算公式：e = tc / ta = 1 / (r + (1-r) * h)

        （省略了中间展开后化简的过程。给个r的概念可能是题目有时候脑子一抽会给个r让你算）

        何意啊？访问效率其实就是 访问一次cache的时间 / 访问一次数据的平均用时。

        所以就是看整个系统的平均访问时间有多接近纯用cache访问的时间。

    例6：

        图片

下面通过几个问题引出后续内容：

    1.主存的内容调入cache时如何存放？

    2.访存是如何找到cache中的信息？

        =&gt; 主存与cache的地址映射

    3.当cache空间不足时如何替换cache中已有内容？

        =&gt; Cache的替换策略

    4.写操作时如何改写cache的内容？

        =&gt; Cache的写操作策略
</code></pre>
<p>3.6.2 主存与Cache的地址映射</p>
<p>这一小节解决以下两个问题：</p>
<pre><code>1.主存的内容调入cache时如何存放？

2.访存是如何找到cache中的信息？
</code></pre>
<p>地址映射方式：</p>
<pre><code>有三种方式。全相联方式、直接方式、组相联方式。

假设：主存容量为1MB，cache容量为8KB

1.全相联映射方式

    映射原则：
    
        1.主存、cache以同等大小分行/块
        
        2.主存的每一块能复制到cache的任何一行

    地址分配：

        主存地址

        Cache地址

        比如Cache有0-15行，总共16行，内存有0-2047块，共2048块。映射非常简单，就是内存每16块对应Cache每一行。用完了就重新开始，比如内存第16块对应Cache第0行。

        具体分配为，主存地址前11位为主存块号，后9位为块内字节地址；Cache地址前11位为标记，后9位为行内字节地址。听起来不好理解，举个例子就懂了。

    图片

    例：主存地址为2B3A5H，在全相联映射方式下该地址指向主存的第几块的第几个单元？

        前11位为主存块号，后9位为块内字节地址。2B3A5H = (00101011001 110100101)2

        前11位：(345)10。后9位：(421)10。

        所以为第345块第421个单元（345可以理解，421为什么是单元？）

    图片

    特点：

        优点：冲突概率小，cache利用率高

        缺点：高速比较器电路难于设计和实现，且需要一个访问速度快而代价高的相联存储器（相联存储表）

        应用场合：适用于小容量的cache

2.直接映射方式

    ……

3.组相联映射方式（2路组相联）

    ……
</code></pre>
<p>3.6.3 替换策略</p>
<p>Cache的读过程</p>
<p>替换算法</p>
<p>例子</p>
<p>图片</p>
<p>3.6.4 写操作策略</p>
<p>Cache的写过程</p>
<p>写操作策略</p>
<p>3.6.5 Pentium PC的Cache<br>（不是，这抽象标题我就没看懂）</p>
<p>多层次cache存储器</p>
<p>图片</p>
<hr>
<p>LFU（最不常使用）：谁来+1</p>
<p>LRU（近期最少使用）：谁来清零，其他位+1</p>
<p>最后选取最小、最大的值，就是最不常使用&#x2F;近期最少使用的值</p>
<hr>
<p>写操作策略</p>
<p>cache是主存内容的一部分，为了保持两者内容一致，防止写入使得两者内容出现差异，需要使用写操作策略</p>
<p>1.全写法</p>
<p>2.写回法</p>
<hr>
<hr>

  </div>
  <div>
    
      <div 
        class="post-note note-warning copyright" 
        style="margin-top: 42px">
        <p>
          <span style="font-weight: bold;">作者：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="/about">
            风月无霰
          </a>
        </p>
        <p>
          <span style="font-weight: bold;">文章链接：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="https://littlesharkkisskissme.github.io/2024/04/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E7%AC%AC%E4%B8%89%E7%AB%A0/">
            https://littlesharkkisskissme.github.io/2024/04/22/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E7%AC%AC%E4%B8%89%E7%AB%A0/
          </a>
        </p>
        <p><span style="font-weight: bold;"></span>如果您有不同的想法，欢迎留言交流！(<strong>@2089899731qq.com</strong>) <br>文章采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0 协议</a>，转载请注明出处。</p>
      </div>
    
  </div>
</article>
<div class="nav">
  
    <div class="nav-item-prev">
      <a 
        href="/2024/04/24/%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1-%E7%AC%AC%E4%B8%83%E7%AB%A0/" 
        class="nav-link">
        <i class="iconfont icon-left nav-prev-icon"></i>
        <div>
          <div class="nav-label">上一篇</div>
          
            <div class="nav-title">算法分析与设计 第四章 </div>
          
        </div>
      </a>
    </div>
  
  
    <div class="nav-item-next">
      <a 
        href="/2024/04/20/%E6%96%B0%E6%95%B0%E6%8D%AE%E5%BA%93-%E7%AC%AC%E4%B8%80%E7%AB%A0/" 
        class="nav-link">
        <div>
          <div class="nav-label">下一篇</div>
          
            <div class="nav-title">新数据库 第一章 </div>
          
        </div>
        <i class="iconfont icon-right nav-next-icon"></i>
      </a>
    </div>
  
</div>

<div 
  class="card card-content toc-card" 
  id="mobiletoc">
  <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>

</div>
            </main>
            <aside class="right-column">
              <div class="sticky-widescreen">
  
  
    <article class="card card-content toc-card">
      <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>

    </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header">
    <i 
      class="iconfont icon-wenzhang_huaban" 
      style="padding-right: 2px;">
    </i>最近文章
  </div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2024-06-02</div>
        <a href="/2024/06/02/%E6%96%B0%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"><div class="recent-posts-item-content">新算法分析与设计 动态规划</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2024-06-02</div>
        <a href="/2024/06/02/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90-%E7%AC%AC%E4%BA%94%E7%AB%A0/"><div class="recent-posts-item-content">算法设计与分析 第五章</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2024-06-02</div>
        <a href="/2024/06/02/%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1-%E7%AC%AC%E4%BA%8C%E7%AB%A0-1/"><div class="recent-posts-item-content">算法分析与设计 第二章</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2024-05-29</div>
        <a href="/2024/05/29/%E5%A4%A7%E4%BA%8C%E4%B8%8B-%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95%E5%AE%89%E6%8E%92/"><div class="recent-posts-item-content">大二下 期末考试安排</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
          </div>
        </div>
      </div>
    </div>
     
    <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>
          Copyright ©
          
            2020
          
          
                - 
                2024
          
        </span>
        &nbsp;
        <a 
          href="/" 
          class="footer-link">
          轻泊
        </a>
      </div>
    </div>

    
      <div class="footer-dsc">
        
          Powered by
          <a 
            href="https://hexo.io/" 
            class="footer-link" 
            target="_blank" 
            rel="nofollow noopener noreferrer">
            &nbsp;Hexo
          </a>
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          Theme -
          <a 
            href="https://github.com/theme-kaze" 
            class="footer-link" 
            target="_blank"
            rel="nofollow noopener noreferrer">
            &nbsp;Kaze
          </a>
        
      </div>
    
    
    
    
      <div class="footer-dsc">
        
          本站总访问量<span id="busuanzi_value_site_pv"></span>次
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          本站总访客数<span id="busuanzi_value_site_uv"></span>次
        
      </div>
      
    
</footer>
 
    
  <a 
    role="button" 
    id="scrollbutton" 
    class="basebutton" 
    aria-label="回到顶部">
    <i class="iconfont icon-arrowleft button-icon"></i>
  </a>

<a 
  role="button" 
  id="menubutton"
  aria-label="menu button"
  class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a 
  role="button" 
  id="popbutton" 
  class="basebutton" 
  aria-label="控制中心">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a 
  role="button" 
  id="darkbutton" 
  class="basebutton darkwidget" 
  aria-label="夜色模式">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a 
  role="button" 
  id="searchbutton" 
  class="basebutton searchwidget" 
  aria-label="搜索">
  <i class="iconfont icon-search button-icon"></i>
</a> 
     
     
     
      <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img')
    var i
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a')
      wrapper.setAttribute('href', img[i].getAttribute('data-src'))
      wrapper.setAttribute('aria-label', 'illustration')
      wrapper.style.cssText =
        'width: 100%; display: flex; justify-content: center;'
      if (img[i].alt) wrapper.dataset.caption = img[i].alt
      wrapper.dataset.nolink = true
      img[i].before(wrapper)
      wrapper.append(img[i])
      var divWrap = document.createElement('div')
      divWrap.classList.add('gallery')
      wrapper.before(divWrap)
      divWrap.append(wrapper)
    }
    baguetteBox.run('.gallery')
  }
</script>
<script>
  loadScript(
    "/js/lib/lightbox/baguetteBox.min.js",
    addImgLayout
  )
</script>
 
     
     
    <script src="/js/main.js"></script> 
    
      <script> 
        loadScript('/js/lib/busuanzi.min.js') 
      </script>
     
    
      <script>
        var addLazyload = function () {
          var observer = lozad('.lozad', {
            load: function (el) {
              el.srcset = el.getAttribute('data-src')
            },
            loaded: function (el) {
              el.classList.add('loaded')
            },
          })
          observer.observe()
        }
      </script>
      <script>
        loadScript('/js/lib/lozad.min.js', addLazyload)
      </script>
    
    <script src="//instant.page/5.1.0" type="module"
      integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>
    
    
  </body>
</html>
