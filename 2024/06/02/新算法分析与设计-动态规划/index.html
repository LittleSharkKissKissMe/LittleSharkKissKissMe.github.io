<!DOCTYPE html>
<html lang="</html>zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta 
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta 
    http-equiv="X-UA-Compatible" 
    content="ie=edge">
  <meta 
    name="theme-color" 
    content="#fff" 
    id="theme-color">
  <meta 
    name="description" 
    content="LittleSharkKissKissMe">
  <link 
    rel="icon" 
    href="/">
  <title>新算法分析与设计 动态规划</title>
  <style type="text/css">
    .fullscreenvideo {
        position: absolute;
        top: 50%;
        left: 50%;
        min-width: 100%;
        min-height: 100%;
        width: auto;
        height: auto;
        z-index: -100;
        -webkit-transform: translateX(-50%) translateY(-50%);
        transform: translateX(-50%) translateY(-50%);
        -webkit-transition: 1s opacity;
        transition: 1s opacity;
    }
     
    .videocontainer{
        position: fixed;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -100; 
    }
     
    .videocontainer:before{
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        display: block;
        z-index: -1;
        top: 0;
        left: 0;
        background: rgba(0,0,0,0);
    }
  </style>
  
    
      <meta 
        property="og:title" 
        content="新算法分析与设计 动态规划">
    
    
      <meta 
        property="og:url" 
        content="https://littlesharkkisskissme.github.io/2024/06/02/%E6%96%B0%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/index.html">
    
    
      <meta 
        property="og:img" 
        content="/images/Gus.jpg">
    
    
    
      <meta 
        property="og:type" 
        content="article">
      <meta 
        property="og:article:published_time" 
        content="2024-06-02">
      <meta 
        property="og:article:modified_time" 
        content="2024-06-05">
      <meta 
        property="og:article:author" 
        content="风月无霰">
      
        
          <meta 
            property="og:article:tag" 
            content="算法设计与分析">
        
      
    
  
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  <link rel="preload" href="/css/main.css" as="style" >
  
  <link rel="modulepreload" href="//instant.page/5.1.0">
  
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">
  
  
  
    <link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">
  
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
    function loadCSS(href, data, attr) {
      var sheet = document.createElement('link');
      sheet.ref = 'stylesheet';
      sheet.href = href;
      sheet.dataset[data] = attr;
      document.head.appendChild(sheet);
    }
    function changeCSS(cssFile, data, attr) {
      var oldlink = document.querySelector(data);
      var newlink = document.createElement("link");
      newlink.setAttribute("rel", "stylesheet");
      newlink.setAttribute("href", cssFile);
      newlink.dataset.prism = attr;
      document.head.replaceChild(newlink, oldlink);
    }
  </script>
  
    
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
  </script>
  
    <script>
      var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
        document.getElementById('theme-color').dataset.mode = getCssMediaQuery();
      }
    };
    setDarkmode();
    </script>
  
  
  
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  
<meta name="generator" content="Hexo 6.3.0"></head>

  <body>
    <div class="wrapper">

      <div class="videocontainer">
        <video class="fullscreenvideo" playsinline="" autoplay="" muted="" loop="">
        <source src="../source/images/fate.mp4" type="video/mp4"><!-- 在这改路径即可直接食用 -->
        </video>
      </div>
   
       
      <nav class="navbar">
  <div class="navbar-logo">
    <a class="navbar-logo-main" href="/">
      
      <span class="navbar-logo-dsc">轻泊</span>
      </a>
  </div>
  <div class="navbar-menu">
    
      <a 
        href="/" 
        class="navbar-menu-item">
        
          首页
        
      </a>
    
      <a 
        href="/archives" 
        class="navbar-menu-item">
        
          归档
        
      </a>
    
      <a 
        href="/tags" 
        class="navbar-menu-item">
        
          标签
        
      </a>
    
      <a 
        href="/categories" 
        class="navbar-menu-item">
        
          分类
        
      </a>
    
      <a 
        href="/about" 
        class="navbar-menu-item">
        
          关于
        
      </a>
    
      <a 
        href="/links" 
        class="navbar-menu-item">
        
          友链
        
      </a>
    
    <button 
      class="navbar-menu-item darknavbar navbar-menu-btn" 
      aria-label="Toggle dark mode"
      id="dark">
      <i class="iconfont icon-weather"></i>
    </button>
    <button 
      class="navbar-menu-item searchnavbar navbar-menu-btn" 
      aria-label="Toggle search"
      id="search">
      <!-- <i 
        class="iconfont icon-search" 
        style="font-size: 1.2rem; font-weight: 400;">
      </i> -->
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img"
        class="iconify iconify--ion" width="28" height="28" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512">
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M256 80a176 176 0 1 0 176 176A176 176 0 0 0 256 80Z"></path>
        <path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="28"
          d="M232 160a72 72 0 1 0 72 72a72 72 0 0 0-72-72Z"></path>
        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="28"
          d="M283.64 283.64L336 336"></path>
      </svg>
    </button>
  </div>
</nav> 
      
      <div 
        id="local-search" 
        style="display: none">
        <input
          class="navbar-menu-item"
          id="search-input"
          placeholder="请输入搜索内容..." />
        <div id="search-content"></div>
      </div>
      
      <div class="section-wrap">
        <div class="container">
          <div class="columns">
            <aside class="left-column">
              
              <div class="card card-author">
                
  <img 
    src="/images/Gus.jpg" 
    class="author-img"
    width="88"
    height="88"
    alt="author avatar">

<p class="author-name">风月无霰</p>
<p class="author-description"></p>
<div class="author-message">
  <a 
    class="author-posts-count" 
    href="/archives">
    <span>42</span>
    <span>文章</span>
  </a>
  <a 
    class="author-categories-count" 
    href="/categories">
    <span>0</span>
    <span>分类</span>
  </a>
  <a 
    class="author-tags-count" 
    href="/tags">
    <span>10</span>
    <span>标签</span>
  </a>
</div>

              </div>
               <div class="sticky-tablet">
  
  
    <article class="display-when-two-columns spacer">
      <div class="card card-content toc-card">
        <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>

      </div>
    </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header">
    <i 
      class="iconfont icon-fenlei" 
      style="padding-right: 2px;">
    </i>分类
  </div>
  <div class="categories-list">
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header">
    <i 
      class="iconfont icon-biaoqian" 
      style="padding-right: 2px;">
    </i>热门标签
  </div>
  <div class="tags-list">
    
      <a 
        href="/tags/%E6%9D%82%E8%B0%88/" 
        title="杂谈">
        <div class="tags-list-item">杂谈</div>
      </a>
    
      <a 
        href="/tags/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/" 
        title="文本编辑">
        <div class="tags-list-item">文本编辑</div>
      </a>
    
      <a 
        href="/tags/%E6%95%B0%E5%AD%97%E7%94%B5%E8%B7%AF%E4%B8%8E%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91B/" 
        title="数字电路与数字逻辑B">
        <div class="tags-list-item">数字电路与数字逻辑B</div>
      </a>
    
      <a 
        href="/tags/%E4%B9%A0%E9%A2%98/" 
        title="习题">
        <div class="tags-list-item">习题</div>
      </a>
    
      <a 
        href="/tags/%E7%AE%97%E6%B3%95/" 
        title="算法">
        <div class="tags-list-item">算法</div>
      </a>
    
      <a 
        href="/tags/%E8%AF%BE%E7%A8%8B/" 
        title="课程">
        <div class="tags-list-item">课程</div>
      </a>
    
      <a 
        href="/tags/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/" 
        title="算法设计与分析">
        <div class="tags-list-item">算法设计与分析</div>
      </a>
    
      <a 
        href="/tags/%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1/" 
        title="算法分析与设计">
        <div class="tags-list-item">算法分析与设计</div>
      </a>
    
      <a 
        href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" 
        title="计算机组成原理">
        <div class="tags-list-item">计算机组成原理</div>
      </a>
    
      <a 
        href="/tags/%E6%9C%8D%E5%8A%A1%E5%A4%96%E5%8C%85/" 
        title="服务外包">
        <div class="tags-list-item">服务外包</div>
      </a>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
            <main class="main-column">
              
<article class="card card-content">
  <header>
    <h1 class="post-title">
      新算法分析与设计 动态规划
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2024-06-02T09:34:09.000Z">
      <i 
        class="iconfont icon-calendar" 
        style="margin-right: 2px;">
      </i>
      <span>2024-06-02</span>
    </time>
    
    
      <span class="dot"></span>
      <span>3.3k 字</span>
    
  </div>
  
    <div 
      class="post-meta post-show-meta" 
      style="margin-top: -10px;">
      <div style="display: flex; align-items: center;">
        <i 
          class="iconfont icon-biaoqian" 
          style="margin-right: 2px; font-size: 1.15rem;">
        </i>
        
          
          <a 
            href="/tags/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90/" 
            class="post-meta-link">
            算法设计与分析
          </a>
        
      </div>
    </div>
  
  </header>
  <div 
    id="section" 
    class="post-content">
    <p>从代码的角度，全局地分析动态规划问题。</p>
<p>动态规划基本思想：从最小的子问题开始解决，然后逐步扩大问题的规模，直到解决整个问题。这种方式有时被称为<strong>自底向上</strong>的方法。通过建立一个表（通常是数组或者矩阵），将子问题的解存储起来，每个子问题只解一次，之后需要时直接查表，这样极大地提高了效率。</p>
<p>一、共性步骤</p>
<pre><code>分解最优解的结构

    最优子结构性质？

    要用动态规划解决问题，必须保证子问题最优时，父问题也最优。

**建立递归关系**

    有了递归关系，就可以通过子问题获得父问题的答案。

    如递推关系：m[i,j]=min&#123;m[i,k]+m[k+1,j]+F(x)&#125;

        其中k的范围是i≤k&lt;j，也就是我们用一个循环遍历k的所有取值，找出最小的m[i,j]即可

        下文举例的F(x)为p[i-1]*p[k]*p[j]

寻找答案

    最优解？

        需要用表存储最优时的选择，并最后递归找回

    最优值？

        自底向上，递推得到最优值

整体性能分析

    时间复杂度：根据代码理解，下文举例的矩阵连乘的时间复杂度为O(n^3)
</code></pre>
<p>二、构想通用代码</p>
<pre><code>主代码似乎很简单，三重遍历循环

以矩阵乘法为例

    注：矩阵乘法基础知识，令A是p*q的矩阵，B是q*r的矩阵，则乘积C=AB是一个p*r的矩阵，其计算需p*q*r次乘法。

        我们定义p数组为矩阵维度，具体如下：

            p[i] 表示第 i 个矩阵的行数，以及第 i+1 个矩阵的列数，这样第 i 个矩阵的维度就是 p[i-1] * p[i]（列*行）

        所以矩阵连乘中，i到k的矩阵为p[i-1]*p[k]的矩阵，k+1到j的矩阵为p[k]*p[j]的矩阵，这两个矩阵相乘需要p[i-1]*p[k]*p[j]次乘法

获得最优值：

for(int r=1; r&lt;=n; r++) m[r][r]=0;
//矩阵链长度为1的情况（因为只有1个矩阵，不用任何乘法）

for(int r=2; j&lt;=n; r++)&#123;       
//特别注意，r是矩阵链长度！（也就是多少个矩阵相乘）它代表**子问题规模**，是最重要的外循环

    for(int i=1; i&lt;=n-r+1; i++)&#123;

        int j = i + r-1;
        //i和j不必分别循环，它俩表示的是起始矩阵位置和结束矩阵位置，长度固定为r！

        m[i][j] = m[i+1][j] + p[i-1]*p[i]*p[j];
        //其实就是定义初始值，也就是 k = i 的情况
        //m[i,j] = m[i,i] + m[i+1,j] + p[i-1]*p[i]*p[j];

        s[i][j] = i;
        //设 k = i为断裂处，然后逐步加大k找到最佳
        //也就是先假设初始位置为最优解

        for(int k = i+1; k&lt;j; k++)&#123;

            if(m[i,k] + m[k+1,j] + p[i-1]*p[k]*p[j] &lt; m[i,j])&#123;
                m[i,j] = m[i,k] + m[k+1,j] + p[i-1]*p[k]*p[j];
                s[i][j] = k;
                //找到最优解
                //这里很明显了，s[i][j]负责的就是存储最优的k值
            &#125;
        &#125;
    &#125;
&#125;

构造最优解：

void Traceback( int i, int j, int **s)&#123;

    if(i == j) return;

    Traceback(i, s[i][j], s);
    Traceback(s[i][j]+1, j, s);

    cout&lt;&lt; &quot;Multiply A&quot;&lt;&lt; i &lt;&lt;&quot;,&quot;&lt;&lt; s[i][j];
    cout&lt;&lt; &quot; and A&quot;&lt;&lt; (s[i][j]+1) &lt;&lt; &quot;,&quot; &lt;&lt; j&lt;&lt;endl;

    //查找：i到s[i][j]之间的k值，s[i][j]+1到j之间的k值
    //输出：A(i,s[i][j]) * A(s[i][j]+1,j)
&#125;
</code></pre>
<p>三、实战演练</p>
<pre><code>我们已经举例了矩阵连乘问题，接下来看看最长公共子序列、凸多边形最优三角剖分、0-1背包问题、最优二叉搜索树

1.最长公共子序列

    最优子结构？
    
        求解Xm-1和Yn-1 ，Xm-1和Yn，Xm和Yn-1的最长公共子序列时都包含了一个公共的子问题，即：求解Xm-1和Yn-1的最长公共子序列。

    递推关系？

        c[i][j] = max&#123;c[i][j-1] , c[i-1][j]&#125; (此时xi ≠ yi)

        c[i][j] = c[i-1][j-1] + 1 (此时xi = yi)

        特别注意，这里递推关系是根据前缀字母是否相等划分的，与矩阵连乘还是不同的。

        但具体不一样的原理是什么我还没搞太明白。

    最优值代码：

    void LCSLength(int m，int n，char *x，char *y，int **c，int **b)&#123;  

        int i，j;

        for (i = 1; i &lt;= m; i++) c[i][0] = 0; //处理j=0的情况
        for (i = 1; i &lt;= n; i++) c[0][i] = 0; //处理i=0的情况
        //其实就是初始化

        for (i = 1; i &lt;= m; i++) //处理i,j均不等于0的情况
        //这里的遍历是分别遍历X和Y中子序列的首字母

            for (j = 1; j &lt;= n; j++)&#123;

                //递推关系
                if (x[i]==y[j]) &#123; 
                    c[i][j]=c[i-1][j-1]+1; b[i][j]=1; 

                &#125;else if (c[i-1][j]&gt;=c[i][j-1]) &#123; 
                    c[i][j]=c[i-1][j]; b[i][j]=2; 

                &#125;else &#123; 
                    c[i][j]=c[i][j-1]; b[i][j]=3; 
                &#125;

                //当b[i][j]=1时，表示Xi和Yj的最长公共子序列为Xi-1和Yj-1的最长公共子序列加上xi组成；
                //当b[i][j]=2时，表示Xi和Yj的最长公共子序列与Xi-1和Yj的最长公共子序列相同；
                //当b[i][j]=3时，表示Xi和Yj的最长公共子序列与Xi和Yj-1的最长公共子序列相同；
                //b[i][j]实际的作用是**记录Xi和Yj的最长公共子序列属于哪种状态**

            &#125;
    &#125;

    最优解代码：

    void LCS(int i，int j，char *x，int **b)&#123;

        if (i ==0 || j==0) return;

        if (b[i][j]== 1)&#123; 
            LCS(i-1，j-1，x，b); cout&lt;&lt;x[i];

        &#125; else if (b[i][j]== 2) 
            LCS(i-1，j，x，b);

        else LCS(i，j-1，x，b);

        //最优解其实就是递归输出
    &#125;

    表格分析：

        c[i][j]表格分析

            尾字母（当前字母）相等则**值为左上方值+1**

            尾字母（当前字母）不相等则**值为左边、上边值的最大值**

        b[i][j]表格分析

            要能看得懂表格，知道什么时候填2，什么时候填3

            填1：i和j字母相等，没什么好说的。

            填2：i-1 &gt;= j-1，实际上就是左边格子大于等于上边格子。

            填3：同理，是上边格子大于左边格子。

            **注意！！！b[i][j]看表的时候看的是c[i][j]的表，b[i][j]自己彼此间没有递推关系**

    改进分析：

        主要是空间复杂度分析。

        ……

2.凸多边形最优三角剖分

    基础知识：多边形的三角剖分问题，指将多边形P分割成互不相交的三角形。对于用于分割的弦的集合T，多边形P内任意一条不在集合T内的弦必与集合T内的某条弦相交。定理：集合T中共有n-3条弦并将多边形P剖分成n-2个三角形。（例如正方形的对角线）

    问题描述：对于给定凸多边形P，以及定义在由多边形的边和弦组成的三角形上的权函数w。要求确定该凸多边形的三角剖分，使得该三角剖分中诸三角形上的权之和为最小。

    最优子结构？

        设某点为Vk，则多边形&#123;V0, ……, Vn&#125;可以分为&#123;V0, ……, Vk&#125;和&#123;Vk+1, ……, Vn&#125;，若多边形整体最优，则这两个子问题必达到最优。

    递推关系？

        设t[i][j]为i到j这几个点构成多边形的最优值

        t[i][j] = min&#123;t[i][k] + t[k+1][j] + w(vi-1，vk，vj)&#125;

        这里的F(x)为w(vi-1*vk*vj)，其中权函数定义：w(vi,vj,vk)=|vi*vj|+|vj*vk|+|vk*vi|，其中|vivj|表示顶点vi和顶点vj之间的欧氏距离(Euclidean Distance)；

    最优值代码：

    public void minWeightTriangulation(int n, int **t, int **s) &#123;
        for (int i = 1; i &lt;= n; i++)  t[i][i] = 0; //2个顶点的多边形
        //初始化的步骤

        for (int r = 2; r &lt;= n; r++) &#123; // 逐步增加顶点数
        //和矩阵连乘有异曲同工之处 

            for (int i = 1; i &lt;= n - r + 1; i++) &#123; 

                int j = i + r - 1;
                //其实从这里可以看出，这和矩阵连乘几乎一样，都是选定r值遍历

                t[i][j] = t[i + 1][j] + weight(i - 1, i, j); 
                //从k=i开始，省略了t[i][i]

                s[i][j] = i;
                //s[i][j]记录选中的k值

                for (int k = i + 1; k &lt; j; k++) &#123; //逐步移动顶点k的位置
                    int u = t[i][k] + t[k + 1][j] + weight(i - 1, k, j);

                    if (u &lt; t[i][j]) &#123;  
                        t[i][j] = u;  s[i][j] = k; 
                    &#125;
                &#125;
            &#125;
        &#125;
    &#125;

    最优解代码：（那不是跟矩阵连乘一样吗……）

        ……

3.0-1背包问题

    最经典的问题之一

    最优子结构？

        假设每个物品价值为Vi,选择与否用Xi存储（0为不选，1为选中）

        则总价值为i=2到n求和：Vi*Xi

        子问题为k=i到n求和：Vk*Xk

    递推结构？

        m(i,j) = max&#123;m(i+1, j), m(i+1, j-Wi)+Vi&#125;    (j &gt;= Wi)
        m(i,j) = m(i+1,j)   (0 &lt;= j &lt; Wi)

        解释一下这两种情况：

            其中i为开始考虑选择的物品序号，j为剩余背包容量

            情况1表示此时剩余背包容量还能装入物品i，所以对比一下装入该物品、不装入该物品的情况，找出最优值

            情况2表示已经装不下了，所以直接考虑下一件物品，也就是从i+1开始考虑

    最优值代码？

        算法时间复杂度为O(nc), 空间复杂度为O(n^2)

        空间复杂度可以结合表格分析理解

        void knapsack(int v[],int *w,int c,int n,int**m)&#123;  

            int jmax = min(w[n]-1,c); 
            //jmax表示一个区分状态的临界值，剩余容量j超过jmax时，可以把当前物品装进背包，否则只能舍弃

            for(int j=0; j&lt;=jmax; j++)
            //注意j为整数
                m[n][j]=0; 
            //考虑第n件物品时，如果剩余背包容量过小，则最优值初始化为0

            for(int j=w[n]; j&lt;=c; j++)  
                m[n][j]=v[n];   
            //考虑第n件物品时，如果剩余背包容量足够，则直接将其直接装进背包

            for(int i=n-1; i&gt;1; i--) &#123; 
            //逐步增加物品数至n及容量至c

                jmax=min(w[i]-1,c); 
                //仅可选物品i时，容量为j的子问题的最优值 

                for(int j=0; j&lt;=jmax; j++)   
                    m[i][j] = m[i+1][j];

                for(int j=w[i]; j&lt;=c; j++)    
                    m[i][j] = max(m[i+1][j], m[i+1][j-w[i]]+v[i]);   
            &#125; 

            m[1][c] = m[2][c]; 
            //处理物品1，最后一件的边界情况

            if(c &gt;= w[1]) 
                m[1][c]=max(m[1][c], m[2][c-w[1]]+v[1]);     
        &#125; 

    最优解代码？

        int traceback(int **m, int *w, int c, int n, int *x)&#123;

            for(int i=1; i&lt;n; i++) &#123;

                if(m[i][c]==m[i+1][c])  
                    x[i]=0;   //二者相等说明物品i不装入
                else&#123; 
                    x[i]=1;   
                    c= c- w[i];  
                &#125;

                x[n]=(m[n][c]) ? 1 : 0;     
            &#125;  
        &#125; 


    表格分析：

        其实只要搞清楚i和j的含义，表格可以现场手搓的（

    改进分析：

        有点小难，后面再看

4.最优二叉搜索树

    基础知识：

        （这不是我们高中信息技术的梗吗，下次引用记得标明出处）

        对分查找中的二叉树实际上是二叉搜索树的一个特例

    问题描述：

        对于每个查找值，有一个对应的查找概率，目标是构造一颗二叉搜索树，使得期望的搜索次数最小

        这个目标也可以理解为带权路径和最小、哈夫曼编码

    最优子结构？

        左子树和右子树均是最优二叉搜索树即可

    递推结构？

        对于序列：S = &lt;x1, x2, …, xn&gt;，其存取概率分布如下：
        P = &lt;a0, b1, a1, b2, a2, … , bn, an&gt;

        结点xi 在二叉树T 中的深度是d(xi), i=1,2,…,n，
        则平均比较次数为：

            ……

        在 P 中，每个节点 xi 对应了两个概率值：a(i-1) 和 bi，其中 a(i-1) 表示**节点 xi 作为左儿子的概率**，**bi 表示节点 xi 作为右儿子的概率**。而在 P 中，除了这 2n 个概率值外，还有一个附加的 a0 和 an，分别表示**添加虚拟节点的情况**。在最优二叉搜索树中，为了简化边界情况的处理，通常在 S 序列的左侧和右侧各添加一个虚拟节点，其概率值分别为 a0 和 an。

        w[i, j]是P[i,j]中所有概率（包括数据元素与空隙）之和。

        m[i,j] = min&#123;m[i,k-1] + m[k+1,j] + w[i,j]&#125;    (1 &lt;= i &lt;= j &lt;= n)

        m[i,i-1] = 0    (1 &lt;= i &lt;= n)

    最优值代码？



    最优解代码？
</code></pre>

  </div>
  <div>
    
      <div 
        class="post-note note-warning copyright" 
        style="margin-top: 42px">
        <p>
          <span style="font-weight: bold;">作者：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="/about">
            风月无霰
          </a>
        </p>
        <p>
          <span style="font-weight: bold;">文章链接：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="https://littlesharkkisskissme.github.io/2024/06/02/%E6%96%B0%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">
            https://littlesharkkisskissme.github.io/2024/06/02/%E6%96%B0%E7%AE%97%E6%B3%95%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/
          </a>
        </p>
        <p><span style="font-weight: bold;"></span>如果您有不同的想法，欢迎留言交流！(<strong>@2089899731qq.com</strong>) <br>文章采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0 协议</a>，转载请注明出处。</p>
      </div>
    
  </div>
</article>
<div class="nav">
  
    <div class="nav-item-prev">
      <a 
        href="/2024/06/05/%E6%96%B0%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/" 
        class="nav-link">
        <i class="iconfont icon-left nav-prev-icon"></i>
        <div>
          <div class="nav-label">上一篇</div>
          
            <div class="nav-title">新算法设计与分析 贪心算法 </div>
          
        </div>
      </a>
    </div>
  
  
    <div class="nav-item-next">
      <a 
        href="/2024/06/02/%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90-%E7%AC%AC%E4%BA%94%E7%AB%A0/" 
        class="nav-link">
        <div>
          <div class="nav-label">下一篇</div>
          
            <div class="nav-title">算法设计与分析 第五章 </div>
          
        </div>
        <i class="iconfont icon-right nav-next-icon"></i>
      </a>
    </div>
  
</div>

<div 
  class="card card-content toc-card" 
  id="mobiletoc">
  <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>

</div>
            </main>
            <aside class="right-column">
              <div class="sticky-widescreen">
  
  
    <article class="card card-content toc-card">
      <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>

    </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header">
    <i 
      class="iconfont icon-wenzhang_huaban" 
      style="padding-right: 2px;">
    </i>最近文章
  </div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2024-06-10</div>
        <a href="/2024/06/10/%E6%96%B0%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"><div class="recent-posts-item-content">新计算机组成原理</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2024-06-09</div>
        <a href="/2024/06/09/%E6%96%B0%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90-%E5%9B%9E%E6%BA%AF%E6%B3%95/"><div class="recent-posts-item-content">新算法设计与分析 回溯法</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2024-06-09</div>
        <a href="/2024/06/09/%E6%96%B0%E6%95%B0%E5%AD%97%E7%94%B5%E8%B7%AF%E4%B8%8E%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91B/"><div class="recent-posts-item-content">新数字电路与数字逻辑B</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2024-06-05</div>
        <a href="/2024/06/05/%E6%96%B0%E7%AE%97%E6%B3%95%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%88%86%E6%9E%90-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/"><div class="recent-posts-item-content">新算法设计与分析 贪心算法</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
          </div>
        </div>
      </div>
    </div>
     
    <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>
          Copyright ©
          
            2020
          
          
                - 
                2024
          
        </span>
        &nbsp;
        <a 
          href="/" 
          class="footer-link">
          轻泊
        </a>
      </div>
    </div>

    
      <div class="footer-dsc">
        
          Powered by
          <a 
            href="https://hexo.io/" 
            class="footer-link" 
            target="_blank" 
            rel="nofollow noopener noreferrer">
            &nbsp;Hexo
          </a>
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          Theme -
          <a 
            href="https://github.com/theme-kaze" 
            class="footer-link" 
            target="_blank"
            rel="nofollow noopener noreferrer">
            &nbsp;Kaze
          </a>
        
      </div>
    
    
    
    
      <div class="footer-dsc">
        
          本站总访问量<span id="busuanzi_value_site_pv"></span>次
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          本站总访客数<span id="busuanzi_value_site_uv"></span>次
        
      </div>
      
    
</footer>
 
    
  <a 
    role="button" 
    id="scrollbutton" 
    class="basebutton" 
    aria-label="回到顶部">
    <i class="iconfont icon-arrowleft button-icon"></i>
  </a>

<a 
  role="button" 
  id="menubutton"
  aria-label="menu button"
  class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a 
  role="button" 
  id="popbutton" 
  class="basebutton" 
  aria-label="控制中心">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a 
  role="button" 
  id="darkbutton" 
  class="basebutton darkwidget" 
  aria-label="夜色模式">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a 
  role="button" 
  id="searchbutton" 
  class="basebutton searchwidget" 
  aria-label="搜索">
  <i class="iconfont icon-search button-icon"></i>
</a> 
     
     
     
      <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img')
    var i
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a')
      wrapper.setAttribute('href', img[i].getAttribute('data-src'))
      wrapper.setAttribute('aria-label', 'illustration')
      wrapper.style.cssText =
        'width: 100%; display: flex; justify-content: center;'
      if (img[i].alt) wrapper.dataset.caption = img[i].alt
      wrapper.dataset.nolink = true
      img[i].before(wrapper)
      wrapper.append(img[i])
      var divWrap = document.createElement('div')
      divWrap.classList.add('gallery')
      wrapper.before(divWrap)
      divWrap.append(wrapper)
    }
    baguetteBox.run('.gallery')
  }
</script>
<script>
  loadScript(
    "/js/lib/lightbox/baguetteBox.min.js",
    addImgLayout
  )
</script>
 
     
     
    <script src="/js/main.js"></script> 
    
      <script> 
        loadScript('/js/lib/busuanzi.min.js') 
      </script>
     
    
      <script>
        var addLazyload = function () {
          var observer = lozad('.lozad', {
            load: function (el) {
              el.srcset = el.getAttribute('data-src')
            },
            loaded: function (el) {
              el.classList.add('loaded')
            },
          })
          observer.observe()
        }
      </script>
      <script>
        loadScript('/js/lib/lozad.min.js', addLazyload)
      </script>
    
    <script src="//instant.page/5.1.0" type="module"
      integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>
    
    
  </body>
</html>
